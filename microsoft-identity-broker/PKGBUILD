# Maintainer: Recolic K <root@recolic.net>

pkgname=microsoft-identity-broker
pkgver=2.0.3
pkgrel=0
pkgdesc="microsoft-identity-broker"
url="https://packages.microsoft.com/ubuntu/24.04/prod/pool/main/m/microsoft-identity-broker"
license=("GPL2")
arch=("x86_64")
# official list: systemd, libatk1.0-0t64 (>= 1.12.4), libc6 (>= 2.38), libcairo-gobject2 (>= 1.10.0), libcairo2 (>= 1.2.4), libcurl4t64 (>= 7.16.2), libdbus-1-3 (>= 1.9.14), libgcc-s1 (>= 3.0), libgdk-pixbuf-2.0-0 (>= 2.22.0), libglib2.0-0t64 (>= 2.70.0), libgtk-3-0t64 (>= 3.13.7), libharfbuzz0b (>= 0.6.0), libjavascriptcoregtk-4.1-0, libp11-kit0 (>= 0.25.0), libpango-1.0-0 (>= 1.14.0), libpangocairo-1.0-0 (>= 1.14.0), libsecret-1-0 (>= 0.7), libsoup-3.0-0 (>= 2.4.0), libssl3t64 (>= 3.0.0), libstdc++6 (>= 13.1), libuuid1 (>= 2.16), libwebkit2gtk-4.1-0 (>= 2.39.90), libx11-6, zlib1g (>= 1:1.1.4)
depends=("dbus" "gnome-keyring" "systemd" "opensc" "openssl")
makedepends=()
provides=("msft-identity-broker=${pkgver}")
conflicts=("msft-identity-broker")
replaces=("msft-identity-broker")
backup=()
source=("source.deb::$url/${pkgname}_${pkgver}_amd64.deb")
sha256sums=("be8acf7f9a6f34b001c27b620dd7c34a2b9b8358db1da28afe8d1f1646d9d34d")
install=x.install

package() {
  cd "$srcdir"
  ar x source.deb
  tar xvzf data.tar.gz
  cp -r "$srcdir/usr" "$pkgdir/"
}


